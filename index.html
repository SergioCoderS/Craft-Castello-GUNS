<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Castello Craft Calculator</title>
<style>
body {
  margin:0; padding:0; font-family:Arial,sans-serif;
  background:url('background.png') no-repeat center center fixed; background-size:cover;
  color:#fff;
}
.container { display:flex; min-height:100vh; }
.menu {
  width:200px; background: rgba(0,0,0,0.7); padding:20px; box-sizing:border-box;
  display:flex; flex-direction:column;
}
.menu div { padding:12px; margin-bottom:5px; background: rgba(255,255,255,0.05); cursor:pointer; border-radius:5px; transition:0.2s; }
.menu div:hover, .menu .active { background: rgba(255,255,255,0.2); }
.content { flex:1; padding:20px; background: rgba(0,0,0,0.5); backdrop-filter: blur(10px); }
.items { margin-top:10px; }
.items div { padding:10px; margin-bottom:5px; background: rgba(255,255,255,0.1); cursor:pointer; border-radius:5px; transition:0.2s; }
.items div:hover { background: rgba(255,255,255,0.2); }
.result { margin-top:15px; background: rgba(0,0,0,0.35); padding:15px; border-radius:8px; border:1px solid rgba(255,255,255,0.15); white-space:pre-line; }
</style>
</head>
<body>
<div class="container">
  <div class="menu" id="menu">
    <div data-category="revolvers">Револьвери</div>
    <div data-category="rifles">Гвинтівки</div>
    <div data-category="repeaters">Ріпітери</div>
    <div data-category="shotguns">Дробовики</div>
    <div data-category="ingots">Злитки</div>
    <div data-category="parts">Запчастини</div>
    <div data-category="ammo">Набої</div>
  </div>
  <div class="content">
    <div class="items" id="items"></div>
    <div class="result" id="result">Виберіть предмет щоб побачити ресурси</div>
  </div>
</div>

<script>
// --- Дані ---
const weapons = {
  rifles: {
    "Гвинтівка Boltaction": { "Корпус важкої зброї":1, "Дуло":1, "Дерево":25, "Злиток сталі":4 },
    "Гвинтівка Springfield": { "Корпус важкої зброї":1, "Дуло":1, "Дерево":20, "Злиток сталі":4 }
  },
  shotguns: {
    "Дробовик Double Barrel": { "Корпус важкої зброї":1, "Дуло":2, "Дерево":5, "Злиток сталі":3 },
    "Дробовик Repeating": { "Корпус важкої зброї":1, "Дуло":1, "Дерево":5, "Злиток сталі":2 },
    "Дробовик Semi-Auto": { "Корпус важкої зброї":1, "Дуло":1, "Дерево":5, "Злиток сталі":2 }
  },
  revolvers: {
    "Cattleman": { "Корпус легкої зброї":1, "Дуло":1, "Барабан":1, "Дерево":1, "Злиток сталі":2 },
    "Double Action": { "Корпус легкої зброї":1, "Дуло":1, "Барабан":1, "Дерево":1, "Злиток сталі":2 },
    "Double Action Gambler": { "Корпус легкої зброї":1, "Дуло":1, "Барабан":1, "Дерево":1, "Злиток сталі":2 },
    "Lemat": { "Корпус легкої зброї":1, "Дуло":2, "Барабан":1, "Дерево":1, "Злиток сталі":2 },
    "Navy": { "Корпус легкої зброї":1, "Дуло":1, "Барабан":1, "Дерево":1, "Злиток сталі":3, "Злиток золота":1, "Злиток срібла":1 },
    "Shofield": { "Корпус легкої зброї":1, "Дуло":1, "Барабан":1, "Дерево":1, "Злиток сталі":2 }
  },
  repeaters: {
    "Carbine": { "Корпус важкої зброї":1, "Дуло":1, "Дерево":5, "Злиток сталі":3 },
    "Evans": { "Корпус важкої зброї":1, "Дуло":1, "Дерево":10, "Злиток сталі":3 },
    "Lancaster": { "Корпус важкої зброї":1, "Дуло":2, "Дерево":5, "Злиток сталі":3 },
    "Litchfield": { "Корпус важкої зброї":1, "Дуло":2, "Дерево":5, "Злиток сталі":3 }
  },
  parts: {
    "Корпус важкої зброї": { "Злиток заліза":2, "Злиток сталі":2, "Дерево":10 },
    "Корпус легкої зброї": { "Злиток заліза":1, "Злиток сталі":1, "Дерево":5 },
    "Барабан": { "Злиток сталі":1 },
    "Дуло": { "Злиток сталі":1 }
  },
  ingots: {
    "Злиток сталі": { "Злиток заліза":1, "Вугілля":5, "Глиняна форма":1 },
    "Злиток заліза": { "Залізна руда":10 },
    "Злиток золота": { "Золота руда":10, "Вугілля":5, "Глиняна форма":1 },
    "Злиток срібла": { "Срібна руда":10, "Вугілля":5, "Глиняна форма":1 },
    "Злиток міді": { "Мідна руда":10, "Вугілля":5, "Глиняна форма":1 },
    "Злиток свинцю": { "Свинцева руда":10, "Вугілля":5, "Глиняна форма":1 },
    "Злиток латуні": { "Злиток міді":1, "Злиток цинку":1, "Вугілля":5, "Глиняна форма":1 },
    "Злиток цинку": { "Цинкова руда":10, "Вугілля":5, "Глиняна форма":1 }
  },
  ammo: {}
};

// --- Рекурсивний підрахунок ---
function getResources(item, qty=1, result={}){
  if(weapons.revolvers[item] || weapons.rifles[item] || weapons.repeaters[item] || weapons.shotguns[item]) {
    const obj = weapons.revolvers[item] || weapons.rifles[item] || weapons.repeaters[item] || weapons.shotguns[item];
    for(let k in obj) getResources(k,obj[k]*qty,result);
  } else if(weapons.parts[item] || weapons.ingots[item]){
    const obj = weapons.parts[item] || weapons.ingots[item];
    for(let k in obj) getResources(k,obj[k]*qty,result);
  } else {
    result[item]=(result[item]||0)+qty;
  }
  return result;
}

// --- Показ ---
function displayResources(item){
  const total = getResources(item);
  let text=`Ресурси на ${item}:\n\n`;
  for(let k in total) text+=`• ${k}: ${total[k]}\n`;
  document.getElementById('result').innerText=text;
}

// --- Меню ---
const menu = document.getElementById('menu');
const itemsDiv = document.getElementById('items');
menu.querySelectorAll('div').forEach(m=>{
  m.onclick=()=>{
    menu.querySelectorAll('div').forEach(x=>x.classList.remove('active'));
    m.classList.add('active');
    const cat = m.dataset.category;
    itemsDiv.innerHTML='';
    for(let item in weapons[cat]){
      const d=document.createElement('div');
      d.textContent=item;
      d.onclick=()=>displayResources(item);
      itemsDiv.appendChild(d);
    }
    document.getElementById('result').innerText='Виберіть предмет щоб побачити ресурси';
  }
});
</script>
</body>
</html>


